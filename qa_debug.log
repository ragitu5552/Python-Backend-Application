2025-03-26 10:19:46,362 - INFO - select pg_catalog.version()
2025-03-26 10:19:46,362 - INFO - [raw sql] ()
2025-03-26 10:19:46,362 - INFO - select current_schema()
2025-03-26 10:19:46,362 - INFO - [raw sql] ()
2025-03-26 10:19:46,362 - INFO - show standard_conforming_strings
2025-03-26 10:19:46,362 - INFO - [raw sql] ()
2025-03-26 10:19:46,374 - INFO - BEGIN (implicit)
2025-03-26 10:19:46,380 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:19:46,381 - INFO - [generated in 0.00132s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:19:46,392 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:19:46,392 - INFO - [cached since 0.01238s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:19:46,394 - INFO - COMMIT
2025-03-26 10:20:40,970 - DEBUG - Input parameters:
2025-03-26 10:20:40,970 - DEBUG - Question: What is this about?
2025-03-26 10:20:40,971 - DEBUG - Top K: 2
2025-03-26 10:20:40,971 - DEBUG - Min Similarity Score: 0.5
2025-03-26 10:20:40,971 - DEBUG - Retriever type: <class 'type'>
2025-03-26 10:20:40,972 - DEBUG - Starting semantic search...
2025-03-26 10:20:40,972 - ERROR - Semantic search error: Retriever.semantic_search() missing 1 required positional argument: 'self'
2025-03-26 10:20:40,973 - ERROR - Traceback (most recent call last):
  File "C:\Users\Asus\OneDrive\Documents\Auro_edu_backend\routers\qa.py", line 259, in generate_answer_with_context
    context_results = await retriever.semantic_search(
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Retriever.semantic_search() missing 1 required positional argument: 'self'

2025-03-26 10:23:26,402 - INFO - select pg_catalog.version()
2025-03-26 10:23:26,403 - INFO - [raw sql] ()
2025-03-26 10:23:26,406 - INFO - select current_schema()
2025-03-26 10:23:26,406 - INFO - [raw sql] ()
2025-03-26 10:23:26,409 - INFO - show standard_conforming_strings
2025-03-26 10:23:26,410 - INFO - [raw sql] ()
2025-03-26 10:23:26,412 - INFO - BEGIN (implicit)
2025-03-26 10:23:26,415 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:23:26,417 - INFO - [generated in 0.00125s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:23:26,426 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:23:26,427 - INFO - [cached since 0.01114s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:23:26,429 - INFO - COMMIT
2025-03-26 10:29:58,483 - INFO - select pg_catalog.version()
2025-03-26 10:29:58,483 - INFO - [raw sql] ()
2025-03-26 10:29:58,483 - INFO - select current_schema()
2025-03-26 10:29:58,483 - INFO - [raw sql] ()
2025-03-26 10:29:58,490 - INFO - show standard_conforming_strings
2025-03-26 10:29:58,490 - INFO - [raw sql] ()
2025-03-26 10:29:58,494 - INFO - BEGIN (implicit)
2025-03-26 10:29:58,499 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:29:58,500 - INFO - [generated in 0.00121s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:29:58,508 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:29:58,509 - INFO - [cached since 0.01064s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:29:58,511 - INFO - COMMIT
2025-03-26 10:32:02,647 - INFO - select pg_catalog.version()
2025-03-26 10:32:02,648 - INFO - [raw sql] ()
2025-03-26 10:32:02,650 - INFO - select current_schema()
2025-03-26 10:32:02,650 - INFO - [raw sql] ()
2025-03-26 10:32:02,652 - INFO - show standard_conforming_strings
2025-03-26 10:32:02,653 - INFO - [raw sql] ()
2025-03-26 10:32:02,655 - INFO - BEGIN (implicit)
2025-03-26 10:32:02,658 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:32:02,659 - INFO - [generated in 0.00069s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:32:02,667 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:32:02,667 - INFO - [cached since 0.009262s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:32:02,669 - INFO - COMMIT
2025-03-26 10:33:59,024 - INFO - BEGIN (implicit)
2025-03-26 10:33:59,031 - INFO - SELECT document_chunks.id, document_chunks.document_id, document_chunks.text, document_chunks.embedding, document_chunks.meta_data, documents.id AS id_1, documents.title, documents.content, documents.file_path, documents.embedding AS embedding_1, documents.created_at, documents.is_active 
FROM document_chunks JOIN documents ON documents.id = document_chunks.document_id ORDER BY document_chunks.embedding <-> $1 
 LIMIT $2::INTEGER
2025-03-26 10:33:59,032 - INFO - [generated in 0.00112s] ('[0.07177644222974777,0.025624195113778114,-0.023577837273478508,0.017115339636802673,0.0021323836408555508,-0.014428305439651012,0.02023758552968502, ... (7774 characters truncated) ... 891,0.08513987809419632,0.023725831881165504,-0.048968296498060226,-0.023550933226943016,0.01823478937149048,0.02745509333908558,0.03876619413495064]', 3)
2025-03-26 10:33:59,059 - INFO - ROLLBACK
2025-03-26 10:34:16,081 - DEBUG - Input parameters:
2025-03-26 10:34:16,081 - DEBUG - Question: What the story is about?
2025-03-26 10:34:16,081 - DEBUG - Top K: 3
2025-03-26 10:34:16,082 - DEBUG - Min Similarity Score: 0.5
2025-03-26 10:34:16,082 - DEBUG - Retriever type: <class 'services.retriever.Retriever'>
2025-03-26 10:34:16,083 - DEBUG - Starting semantic search...
2025-03-26 10:34:16,134 - INFO - BEGIN (implicit)
2025-03-26 10:34:16,136 - INFO - SELECT document_chunks.id, document_chunks.document_id, document_chunks.text, document_chunks.embedding, document_chunks.meta_data, documents.id AS id_1, documents.title, documents.content, documents.file_path, documents.embedding AS embedding_1, documents.created_at, documents.is_active 
FROM document_chunks JOIN documents ON documents.id = document_chunks.document_id ORDER BY document_chunks.embedding <-> $1 
 LIMIT $2::INTEGER
2025-03-26 10:34:16,137 - INFO - [cached since 17.11s ago] ('[0.07177644222974777,0.025624195113778114,-0.023577837273478508,0.017115339636802673,0.0021323836408555508,-0.014428305439651012,0.02023758552968502, ... (7774 characters truncated) ... 891,0.08513987809419632,0.023725831881165504,-0.048968296498060226,-0.023550933226943016,0.01823478937149048,0.02745509333908558,0.03876619413495064]', 3)
2025-03-26 10:34:16,141 - DEBUG - Semantic search completed. Results: [{'chunk_text': 'hey all answered. “If you’ll help us to get there,” added one of the elephants.\n“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': 'way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': ' said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}]
2025-03-26 10:34:16,142 - DEBUG - Generated context: Document: test.txt
Content: hey all answered. “If you’ll help us to get there,” added one of the elephants.
“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir

Document: test.txt
Content: way.”
All of the animals followed her
and ran as fast as they could. Soon, they were
out of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.
All the animals looked around; they were all there.

And then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir

Document: test.txt
Content:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”
He thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.
It might take days to get there.”Ginger and Mickey looked at each other and then lo
2025-03-26 10:34:16,149 - DEBUG - Request options: {'method': 'post', 'url': '/openai/v1/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful AI assistant. Answer the question based only on the provided context. If the context does not contain sufficient information, clearly state that you cannot find an answer in the given context.'}, {'role': 'user', 'content': 'Context:\nDocument: test.txt\nContent: hey all answered. “If you’ll help us to get there,” added one of the elephants.\n“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir\n\nDocument: test.txt\nContent: way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir\n\nDocument: test.txt\nContent:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo\n\nQuestion: What the story is about?'}], 'model': 'llama3-70b-8192', 'max_tokens': 1024, 'temperature': 0.3}}
2025-03-26 10:34:16,163 - DEBUG - Sending HTTP Request: POST https://api.groq.com/openai/v1/chat/completions
2025-03-26 10:34:16,164 - DEBUG - connect_tcp.started host='api.groq.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-03-26 10:34:16,224 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A2855A57D0>
2025-03-26 10:34:16,225 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002A284E46840> server_hostname='api.groq.com' timeout=5.0
2025-03-26 10:34:16,300 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002A2855A5890>
2025-03-26 10:34:16,300 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-26 10:34:16,301 - DEBUG - send_request_headers.complete
2025-03-26 10:34:16,301 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-26 10:34:16,302 - DEBUG - send_request_body.complete
2025-03-26 10:34:16,302 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-26 10:34:16,883 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 26 Mar 2025 05:04:16 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'private, max-age=0, no-store, no-cache, must-revalidate'), (b'Vary', b'Origin'), (b'X-Groq-Region', b'gcp-asia-south1'), (b'X-Ratelimit-Limit-Requests', b'14400'), (b'X-Ratelimit-Limit-Tokens', b'6000'), (b'X-Ratelimit-Remaining-Requests', b'14399'), (b'X-Ratelimit-Remaining-Tokens', b'5508'), (b'X-Ratelimit-Reset-Requests', b'6s'), (b'X-Ratelimit-Reset-Tokens', b'4.92s'), (b'X-Request-Id', b'req_01jq8dcepkf08sjzzxbejhydf7'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=NEDahTW0Zz9rDSRsy4peY0RQFtEm512FC4r8EBOgxrY-1742965456-1.0.1.1-oMv2IosIFgOMe9vDG4Wlr0GvR3m9UF5uqZP0_U_36nfEfk7Hx5QIO3T4cxUj77C48OhCiI7iD_Vtysq0ENZRQrSeK5kUwHmozQ1L8a8_m0A; path=/; expires=Wed, 26-Mar-25 05:34:16 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92641b311ccc859b-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-03-26 10:34:16,885 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 10:34:16,886 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-26 10:34:16,887 - DEBUG - receive_response_body.complete
2025-03-26 10:34:16,887 - DEBUG - response_closed.started
2025-03-26 10:34:16,887 - DEBUG - response_closed.complete
2025-03-26 10:34:16,887 - DEBUG - HTTP Response: POST https://api.groq.com/openai/v1/chat/completions "200 OK" Headers({'date': 'Wed, 26 Mar 2025 05:04:16 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'private, max-age=0, no-store, no-cache, must-revalidate', 'vary': 'Origin', 'x-groq-region': 'gcp-asia-south1', 'x-ratelimit-limit-requests': '14400', 'x-ratelimit-limit-tokens': '6000', 'x-ratelimit-remaining-requests': '14399', 'x-ratelimit-remaining-tokens': '5508', 'x-ratelimit-reset-requests': '6s', 'x-ratelimit-reset-tokens': '4.92s', 'x-request-id': 'req_01jq8dcepkf08sjzzxbejhydf7', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=NEDahTW0Zz9rDSRsy4peY0RQFtEm512FC4r8EBOgxrY-1742965456-1.0.1.1-oMv2IosIFgOMe9vDG4Wlr0GvR3m9UF5uqZP0_U_36nfEfk7Hx5QIO3T4cxUj77C48OhCiI7iD_Vtysq0ENZRQrSeK5kUwHmozQ1L8a8_m0A; path=/; expires=Wed, 26-Mar-25 05:34:16 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None', 'server': 'cloudflare', 'cf-ray': '92641b311ccc859b-BOM', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-03-26 10:34:16,890 - DEBUG - Generated answer: Based on the provided context, the story is about a group of animals, led by Ginger, who embark on a journey across the savannah to the jungle in search of food and water. Along the way, they face challenges such as the hot sun, lack of food and water, and a thunderstorm that brings the risk of fire. Eventually, they reach a safer area and are relieved when the rain arrives, bringing an end to the dry spell and promising a better future with growing plants and abundant food.
2025-03-26 10:34:16,891 - INFO - ROLLBACK
2025-03-26 10:35:30,571 - INFO - select pg_catalog.version()
2025-03-26 10:35:30,572 - INFO - [raw sql] ()
2025-03-26 10:35:30,574 - INFO - select current_schema()
2025-03-26 10:35:30,574 - INFO - [raw sql] ()
2025-03-26 10:35:30,575 - INFO - show standard_conforming_strings
2025-03-26 10:35:30,576 - INFO - [raw sql] ()
2025-03-26 10:35:30,578 - INFO - BEGIN (implicit)
2025-03-26 10:35:30,581 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:35:30,581 - INFO - [generated in 0.00076s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:35:30,588 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:35:30,588 - INFO - [cached since 0.007684s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:35:30,590 - INFO - COMMIT
2025-03-26 10:36:27,068 - INFO - BEGIN (implicit)
2025-03-26 10:36:27,068 - INFO - UPDATE documents SET is_active=$1::BOOLEAN WHERE documents.id = $2::INTEGER
2025-03-26 10:36:27,068 - INFO - [generated in 0.00045s] (True, 3)
2025-03-26 10:36:27,086 - INFO - COMMIT
2025-03-26 10:36:27,089 - INFO - BEGIN (implicit)
2025-03-26 10:36:27,091 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.id = $1::INTEGER
2025-03-26 10:36:27,092 - INFO - [generated in 0.00079s] (3,)
2025-03-26 10:36:27,110 - INFO - ROLLBACK
2025-03-26 10:36:51,226 - INFO - BEGIN (implicit)
2025-03-26 10:36:51,227 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 10:36:51,228 - INFO - [generated in 0.00059s] (100, 0)
2025-03-26 10:36:51,235 - INFO - ROLLBACK
2025-03-26 10:37:19,781 - INFO - BEGIN (implicit)
2025-03-26 10:37:19,782 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.is_active = true 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 10:37:19,782 - INFO - [generated in 0.00081s] (100, 0)
2025-03-26 10:37:19,782 - INFO - ROLLBACK
2025-03-26 10:39:43,258 - INFO - BEGIN (implicit)
2025-03-26 10:39:43,258 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.is_active = true 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 10:39:43,258 - INFO - [cached since 143.5s ago] (100, 0)
2025-03-26 10:39:43,258 - INFO - ROLLBACK
2025-03-26 10:40:39,369 - DEBUG - Input parameters:
2025-03-26 10:40:39,369 - DEBUG - Question: Who is Ravikesh Kumar.?
2025-03-26 10:40:39,369 - DEBUG - Top K: 3
2025-03-26 10:40:39,369 - DEBUG - Min Similarity Score: 0.5
2025-03-26 10:40:39,369 - DEBUG - Retriever type: <class 'services.retriever.Retriever'>
2025-03-26 10:40:39,369 - DEBUG - Starting semantic search...
2025-03-26 10:40:39,443 - INFO - BEGIN (implicit)
2025-03-26 10:40:39,445 - INFO - SELECT document_chunks.id, document_chunks.document_id, document_chunks.text, document_chunks.embedding, document_chunks.meta_data, documents.id AS id_1, documents.title, documents.content, documents.file_path, documents.embedding AS embedding_1, documents.created_at, documents.is_active 
FROM document_chunks JOIN documents ON documents.id = document_chunks.document_id ORDER BY document_chunks.embedding <-> $1 
 LIMIT $2::INTEGER
2025-03-26 10:40:39,445 - INFO - [generated in 0.00113s] ('[0.015236279927194118,0.003207392292097211,-0.07799142599105835,0.015631603077054024,-0.018142949789762497,-0.03705574944615364,0.03625444695353508,- ... (7773 characters truncated) ... ,-0.017000777646899223,-0.05132574588060379,-0.0005750329000875354,-0.04901270940899849,0.02225889079272747,-0.04082541540265083,0.03938509523868561]', 3)
2025-03-26 10:40:39,445 - DEBUG - Semantic search completed. Results: [{'chunk_text': ' said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': 'way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': 'e and then a little more. The rain put out the fire so they didn’t have to run. And the rain filled their watering holes and made the plants grow again,\nso they didn’t have to make that long trip to the edge of the jungle. Everyone would soon have enough food and water. So Ginger, the Giraffe went back to her favorite tree and continued to munch on the leaves and buds.', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}]
2025-03-26 10:40:39,445 - DEBUG - Generated context: Document: test.txt
Content:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”
He thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.
It might take days to get there.”Ginger and Mickey looked at each other and then lo

Document: test.txt
Content: way.”
All of the animals followed her
and ran as fast as they could. Soon, they were
out of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.
All the animals looked around; they were all there.

And then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir

Document: test.txt
Content: e and then a little more. The rain put out the fire so they didn’t have to run. And the rain filled their watering holes and made the plants grow again,
so they didn’t have to make that long trip to the edge of the jungle. Everyone would soon have enough food and water. So Ginger, the Giraffe went back to her favorite tree and continued to munch on the leaves and buds.
2025-03-26 10:40:39,458 - DEBUG - Request options: {'method': 'post', 'url': '/openai/v1/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful AI assistant. Answer the question based only on the provided context. If the context does not contain sufficient information, clearly state that you cannot find an answer in the given context.'}, {'role': 'user', 'content': 'Context:\nDocument: test.txt\nContent:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo\n\nDocument: test.txt\nContent: way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir\n\nDocument: test.txt\nContent: e and then a little more. The rain put out the fire so they didn’t have to run. And the rain filled their watering holes and made the plants grow again,\nso they didn’t have to make that long trip to the edge of the jungle. Everyone would soon have enough food and water. So Ginger, the Giraffe went back to her favorite tree and continued to munch on the leaves and buds.\n\nQuestion: Who is Ravikesh Kumar.?'}], 'model': 'llama3-70b-8192', 'max_tokens': 1024, 'temperature': 0.3}}
2025-03-26 10:40:39,480 - DEBUG - Sending HTTP Request: POST https://api.groq.com/openai/v1/chat/completions
2025-03-26 10:40:39,481 - DEBUG - connect_tcp.started host='api.groq.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-03-26 10:40:39,585 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028A8D309C10>
2025-03-26 10:40:39,585 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028A8CB92840> server_hostname='api.groq.com' timeout=5.0
2025-03-26 10:40:39,648 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028A8D309C90>
2025-03-26 10:40:39,648 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-26 10:40:39,648 - DEBUG - send_request_headers.complete
2025-03-26 10:40:39,648 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-26 10:40:39,648 - DEBUG - send_request_body.complete
2025-03-26 10:40:39,648 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-26 10:40:40,035 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 26 Mar 2025 05:10:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'private, max-age=0, no-store, no-cache, must-revalidate'), (b'Vary', b'Origin'), (b'X-Groq-Region', b'gcp-asia-south1'), (b'X-Ratelimit-Limit-Requests', b'14400'), (b'X-Ratelimit-Limit-Tokens', b'6000'), (b'X-Ratelimit-Remaining-Requests', b'14399'), (b'X-Ratelimit-Remaining-Tokens', b'5548'), (b'X-Ratelimit-Reset-Requests', b'6s'), (b'X-Ratelimit-Reset-Tokens', b'4.52s'), (b'X-Request-Id', b'req_01jq8dr52pf7r8v49nx6r60dwv'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=BMIn3V4Mf6jqLhpi5ivlUrIVZMwmdRo0lzQ48zY0kAQ-1742965839-1.0.1.1-LOzOLKiAn52P5P6NHzjizAzQD85k_UiqyNpUIKajaXVUIvf9USb1pk49l6_HiPpVmz64mLlgczdAu_vjKyuLAeudDIkNlF0lLcwshV9qALU; path=/; expires=Wed, 26-Mar-25 05:40:39 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9264248d2e983cfa-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-03-26 10:40:40,035 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 10:40:40,035 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-26 10:40:40,035 - DEBUG - receive_response_body.complete
2025-03-26 10:40:40,035 - DEBUG - response_closed.started
2025-03-26 10:40:40,035 - DEBUG - response_closed.complete
2025-03-26 10:40:40,035 - DEBUG - HTTP Response: POST https://api.groq.com/openai/v1/chat/completions "200 OK" Headers({'date': 'Wed, 26 Mar 2025 05:10:39 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'private, max-age=0, no-store, no-cache, must-revalidate', 'vary': 'Origin', 'x-groq-region': 'gcp-asia-south1', 'x-ratelimit-limit-requests': '14400', 'x-ratelimit-limit-tokens': '6000', 'x-ratelimit-remaining-requests': '14399', 'x-ratelimit-remaining-tokens': '5548', 'x-ratelimit-reset-requests': '6s', 'x-ratelimit-reset-tokens': '4.52s', 'x-request-id': 'req_01jq8dr52pf7r8v49nx6r60dwv', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=BMIn3V4Mf6jqLhpi5ivlUrIVZMwmdRo0lzQ48zY0kAQ-1742965839-1.0.1.1-LOzOLKiAn52P5P6NHzjizAzQD85k_UiqyNpUIKajaXVUIvf9USb1pk49l6_HiPpVmz64mLlgczdAu_vjKyuLAeudDIkNlF0lLcwshV9qALU; path=/; expires=Wed, 26-Mar-25 05:40:39 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None', 'server': 'cloudflare', 'cf-ray': '9264248d2e983cfa-BOM', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-03-26 10:40:40,035 - DEBUG - Generated answer: I cannot find an answer to this question in the given context. The text does not mention Ravikesh Kumar at all. It appears to be a story about animals, including Ginger the Giraffe, Mickey, and others, dealing with a situation involving rain and a fire. There is no mention of a person named Ravikesh Kumar.
2025-03-26 10:40:40,051 - INFO - ROLLBACK
2025-03-26 10:45:20,939 - INFO - select pg_catalog.version()
2025-03-26 10:45:20,939 - INFO - [raw sql] ()
2025-03-26 10:45:20,939 - INFO - select current_schema()
2025-03-26 10:45:20,939 - INFO - [raw sql] ()
2025-03-26 10:45:20,939 - INFO - show standard_conforming_strings
2025-03-26 10:45:20,955 - INFO - [raw sql] ()
2025-03-26 10:45:20,955 - INFO - BEGIN (implicit)
2025-03-26 10:45:20,955 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:45:20,955 - INFO - [generated in 0.00096s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:45:20,955 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 10:45:20,955 - INFO - [cached since 0.008753s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 10:45:20,971 - INFO - COMMIT
2025-03-26 11:27:12,413 - INFO - select pg_catalog.version()
2025-03-26 11:27:12,413 - INFO - [raw sql] ()
2025-03-26 11:27:12,429 - INFO - select current_schema()
2025-03-26 11:27:12,429 - INFO - [raw sql] ()
2025-03-26 11:27:12,429 - INFO - show standard_conforming_strings
2025-03-26 11:27:12,429 - INFO - [raw sql] ()
2025-03-26 11:27:12,435 - INFO - BEGIN (implicit)
2025-03-26 11:27:12,440 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 11:27:12,441 - INFO - [generated in 0.00078s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 11:27:12,455 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 11:27:12,455 - INFO - [cached since 0.01555s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 11:27:12,458 - INFO - COMMIT
2025-03-26 11:27:44,776 - INFO - BEGIN (implicit)
2025-03-26 11:27:44,782 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 11:27:44,782 - INFO - [generated in 0.00083s] (100, 0)
2025-03-26 11:27:44,833 - INFO - ROLLBACK
2025-03-26 11:28:10,126 - INFO - BEGIN (implicit)
2025-03-26 11:28:10,127 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.is_active = true 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 11:28:10,127 - INFO - [generated in 0.00073s] (100, 0)
2025-03-26 11:28:10,127 - INFO - ROLLBACK
2025-03-26 11:29:53,907 - INFO - select pg_catalog.version()
2025-03-26 11:29:53,908 - INFO - [raw sql] ()
2025-03-26 11:29:53,910 - INFO - select current_schema()
2025-03-26 11:29:53,911 - INFO - [raw sql] ()
2025-03-26 11:29:53,913 - INFO - show standard_conforming_strings
2025-03-26 11:29:53,913 - INFO - [raw sql] ()
2025-03-26 11:29:53,916 - INFO - BEGIN (implicit)
2025-03-26 11:29:53,919 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 11:29:53,920 - INFO - [generated in 0.00086s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 11:29:53,929 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-26 11:29:53,930 - INFO - [cached since 0.01062s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-26 11:29:53,932 - INFO - COMMIT
2025-03-26 11:30:04,290 - INFO - BEGIN (implicit)
2025-03-26 11:30:04,290 - INFO - UPDATE documents SET is_active=$1::BOOLEAN WHERE documents.id = $2::INTEGER
2025-03-26 11:30:04,290 - INFO - [generated in 0.00101s] (True, 6)
2025-03-26 11:30:04,306 - INFO - COMMIT
2025-03-26 11:30:04,309 - INFO - BEGIN (implicit)
2025-03-26 11:30:04,310 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.id = $1::INTEGER
2025-03-26 11:30:04,311 - INFO - [generated in 0.00066s] (6,)
2025-03-26 11:30:04,330 - INFO - ROLLBACK
2025-03-26 11:30:07,845 - INFO - BEGIN (implicit)
2025-03-26 11:30:07,846 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
WHERE documents.is_active = true 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 11:30:07,847 - INFO - [generated in 0.00099s] (100, 0)
2025-03-26 11:30:07,851 - INFO - ROLLBACK
2025-03-26 11:39:24,181 - DEBUG - Input parameters:
2025-03-26 11:39:24,181 - DEBUG - Question: what the story is about?
2025-03-26 11:39:24,181 - DEBUG - Top K: 3
2025-03-26 11:39:24,181 - DEBUG - Min Similarity Score: 0.5
2025-03-26 11:39:24,181 - DEBUG - Retriever type: <class 'services.retriever.Retriever'>
2025-03-26 11:39:24,181 - DEBUG - Starting semantic search...
2025-03-26 11:39:24,427 - INFO - BEGIN (implicit)
2025-03-26 11:39:24,427 - INFO - SELECT document_chunks.id, document_chunks.document_id, document_chunks.text, document_chunks.embedding, document_chunks.meta_data, documents.id AS id_1, documents.title, documents.content, documents.file_path, documents.embedding AS embedding_1, documents.created_at, documents.is_active 
FROM document_chunks JOIN documents ON documents.id = document_chunks.document_id ORDER BY document_chunks.embedding <-> $1 
 LIMIT $2::INTEGER
2025-03-26 11:39:24,427 - INFO - [generated in 0.00108s] ('[0.07177644222974777,0.025624195113778114,-0.023577837273478508,0.017115339636802673,0.0021323836408555508,-0.014428305439651012,0.02023758552968502, ... (7774 characters truncated) ... 891,0.08513987809419632,0.023725831881165504,-0.048968296498060226,-0.023550933226943016,0.01823478937149048,0.02745509333908558,0.03876619413495064]', 3)
2025-03-26 11:39:24,427 - DEBUG - Semantic search completed. Results: [{'chunk_text': 'hey all answered. “If you’ll help us to get there,” added one of the elephants.\n“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': 'way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}, {'chunk_text': ' said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo', 'document_title': 'test.txt', 'document_id': 9, 'file_path': 'uploads\\cb95aa39-ed9a-4ac4-91b6-f79e51356f01.txt'}]
2025-03-26 11:39:24,443 - DEBUG - Generated context: Document: test.txt
Content: hey all answered. “If you’ll help us to get there,” added one of the elephants.
“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir

Document: test.txt
Content: way.”
All of the animals followed her
and ran as fast as they could. Soon, they were
out of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.
All the animals looked around; they were all there.

And then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir

Document: test.txt
Content:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”
He thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.
It might take days to get there.”Ginger and Mickey looked at each other and then lo
2025-03-26 11:39:24,448 - DEBUG - Request options: {'method': 'post', 'url': '/openai/v1/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful AI assistant. Answer the question based only on the provided context. If the context does not contain sufficient information, clearly state that you cannot find an answer in the given context.'}, {'role': 'user', 'content': 'Context:\nDocument: test.txt\nContent: hey all answered. “If you’ll help us to get there,” added one of the elephants.\n“Of course, I’ll help,” said Ginger. “I’m your friend.”So they started on their big journey across the savannah to the jungle. The sun was so hot and there was no food and no place to get a drink of water. And then they heard it. It was thunder! “Thunder!” they all shouted. Thunder was very scary to the animals of the savannah. Can you guess why? Fire! Sometimes the lightning hits the dry grass and the whole savannah catches fir\n\nDocument: test.txt\nContent: way.”\nAll of the animals followed her\nand ran as fast as they could. Soon, they were\nout of danger. They stopped and gathered together one more time. “Is everyone here?” Ginger asked. She wanted to make sure they were all safe.\nAll the animals looked around; they were all there.\n\nAnd then the most wonderful thing happened. “I felt a drop,” said a zebra. “Me too,” said an antelope. It was rain! Finally! Everyone was very happy. It started to rain a little more and then a little more. The rain put out the fir\n\nDocument: test.txt\nContent:  said, “There’s nothing we can do about the rain. It will come soon, but we can’t be sure when it will arrive. When the rain comes, all the plants will grow again and there will be lots of food for everybody.”\nHe thought a little longer. “The only thing I can think of is for everyone to move closer to the forest,” he continued. “There will be more things to eat there, but I know it’s a long trip and it will not be very easy.\nIt might take days to get there.”Ginger and Mickey looked at each other and then lo\n\nQuestion: what the story is about?'}], 'model': 'llama3-70b-8192', 'max_tokens': 1024, 'temperature': 0.3}}
2025-03-26 11:39:24,476 - DEBUG - Sending HTTP Request: POST https://api.groq.com/openai/v1/chat/completions
2025-03-26 11:39:24,477 - DEBUG - connect_tcp.started host='api.groq.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-03-26 11:39:24,567 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026FE3D6B210>
2025-03-26 11:39:24,567 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x0000026FE35D2840> server_hostname='api.groq.com' timeout=5.0
2025-03-26 11:39:24,664 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000026FE37C3FD0>
2025-03-26 11:39:24,664 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-03-26 11:39:24,664 - DEBUG - send_request_headers.complete
2025-03-26 11:39:24,664 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-03-26 11:39:24,664 - DEBUG - send_request_body.complete
2025-03-26 11:39:24,664 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-03-26 11:39:25,131 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 26 Mar 2025 06:09:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Cache-Control', b'private, max-age=0, no-store, no-cache, must-revalidate'), (b'Vary', b'Origin'), (b'X-Groq-Region', b'gcp-asia-south1'), (b'X-Ratelimit-Limit-Requests', b'14400'), (b'X-Ratelimit-Limit-Tokens', b'6000'), (b'X-Ratelimit-Remaining-Requests', b'14399'), (b'X-Ratelimit-Remaining-Tokens', b'5508'), (b'X-Ratelimit-Reset-Requests', b'6s'), (b'X-Ratelimit-Reset-Tokens', b'4.92s'), (b'X-Request-Id', b'req_01jq8h3qkzfw8aw5cv17npffg3'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=2.HfXOfcDkJgp4R1i_LgB6EsqIyDIqVvT9IBsuVom7I-1742969364-1.0.1.1-_JuDVWOfeQeGvGMJboayGHIYtVzk8b.d0ga3NgzPK8Gb83tMFcIbREhUlb3S2ApqvXvKzUg6zBBZXluWMhyQzDSvmookc_.4gRG49JPdvS4; path=/; expires=Wed, 26-Mar-25 06:39:24 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'92647a9d39373cfa-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-03-26 11:39:25,131 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 11:39:25,131 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-03-26 11:39:25,147 - DEBUG - receive_response_body.complete
2025-03-26 11:39:25,147 - DEBUG - response_closed.started
2025-03-26 11:39:25,147 - DEBUG - response_closed.complete
2025-03-26 11:39:25,147 - DEBUG - HTTP Response: POST https://api.groq.com/openai/v1/chat/completions "200 OK" Headers({'date': 'Wed, 26 Mar 2025 06:09:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'cache-control': 'private, max-age=0, no-store, no-cache, must-revalidate', 'vary': 'Origin', 'x-groq-region': 'gcp-asia-south1', 'x-ratelimit-limit-requests': '14400', 'x-ratelimit-limit-tokens': '6000', 'x-ratelimit-remaining-requests': '14399', 'x-ratelimit-remaining-tokens': '5508', 'x-ratelimit-reset-requests': '6s', 'x-ratelimit-reset-tokens': '4.92s', 'x-request-id': 'req_01jq8h3qkzfw8aw5cv17npffg3', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=2.HfXOfcDkJgp4R1i_LgB6EsqIyDIqVvT9IBsuVom7I-1742969364-1.0.1.1-_JuDVWOfeQeGvGMJboayGHIYtVzk8b.d0ga3NgzPK8Gb83tMFcIbREhUlb3S2ApqvXvKzUg6zBBZXluWMhyQzDSvmookc_.4gRG49JPdvS4; path=/; expires=Wed, 26-Mar-25 06:39:24 GMT; domain=.groq.com; HttpOnly; Secure; SameSite=None', 'server': 'cloudflare', 'cf-ray': '92647a9d39373cfa-BOM', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-03-26 11:39:25,147 - DEBUG - Generated answer: Based on the provided context, the story appears to be about a group of animals, led by Ginger, who embark on a journey across the savannah to the jungle in search of food and water during a time of drought. Along the way, they face challenges such as the threat of fire from lightning and thunderstorms, but ultimately, they are able to find safety and relief when the rain arrives, which brings new life to the plants and provides food for the animals.
2025-03-26 11:39:25,147 - INFO - ROLLBACK
2025-03-26 11:41:29,102 - INFO - BEGIN (implicit)
2025-03-26 11:41:29,103 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-26 11:41:29,104 - INFO - [generated in 0.00074s] (100, 0)
2025-03-26 11:41:29,111 - INFO - ROLLBACK
2025-03-27 17:44:51,878 - INFO - select pg_catalog.version()
2025-03-27 17:44:51,878 - INFO - [raw sql] ()
2025-03-27 17:44:51,878 - INFO - select current_schema()
2025-03-27 17:44:51,894 - INFO - [raw sql] ()
2025-03-27 17:44:51,900 - INFO - show standard_conforming_strings
2025-03-27 17:44:51,900 - INFO - [raw sql] ()
2025-03-27 17:44:51,904 - INFO - BEGIN (implicit)
2025-03-27 17:44:51,908 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-27 17:44:51,908 - INFO - [generated in 0.00112s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-27 17:44:51,929 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-27 17:44:51,934 - INFO - [cached since 0.02547s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-27 17:44:51,936 - INFO - COMMIT
2025-03-27 17:45:16,249 - INFO - BEGIN (implicit)
2025-03-27 17:45:16,254 - INFO - SELECT documents.id, documents.title, documents.is_active 
FROM documents ORDER BY documents.is_active DESC, documents.title
2025-03-27 17:45:16,255 - INFO - [generated in 0.00085s] ()
2025-03-27 17:45:16,277 - INFO - ROLLBACK
2025-03-27 17:45:47,316 - INFO - BEGIN (implicit)
2025-03-27 17:45:47,316 - INFO - SELECT documents.id, documents.title, documents.is_active 
FROM documents ORDER BY documents.is_active DESC, documents.title
2025-03-27 17:45:47,316 - INFO - [cached since 31.07s ago] ()
2025-03-27 17:45:47,322 - INFO - ROLLBACK
2025-03-27 17:48:01,959 - INFO - BEGIN (implicit)
2025-03-27 17:48:01,963 - INFO - SELECT documents.id, documents.title, documents.content, documents.file_path, documents.embedding, documents.created_at, documents.is_active 
FROM documents 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-03-27 17:48:01,963 - INFO - [generated in 0.00078s] (100, 0)
2025-03-27 17:48:02,009 - INFO - ROLLBACK
2025-03-27 17:48:23,705 - INFO - select pg_catalog.version()
2025-03-27 17:48:23,706 - INFO - [raw sql] ()
2025-03-27 17:48:23,712 - INFO - select current_schema()
2025-03-27 17:48:23,712 - INFO - [raw sql] ()
2025-03-27 17:48:23,716 - INFO - show standard_conforming_strings
2025-03-27 17:48:23,717 - INFO - [raw sql] ()
2025-03-27 17:48:23,720 - INFO - BEGIN (implicit)
2025-03-27 17:48:23,725 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-27 17:48:23,726 - INFO - [generated in 0.00109s] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-27 17:48:23,741 - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-03-27 17:48:23,742 - INFO - [cached since 0.01753s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-03-27 17:48:23,744 - INFO - COMMIT
2025-03-27 17:52:26,511 - INFO - BEGIN (implicit)
2025-03-27 17:52:26,519 - INFO - SELECT documents.id, documents.title, documents.is_active 
FROM documents ORDER BY documents.is_active DESC, documents.title
2025-03-27 17:52:26,519 - INFO - [generated in 0.00137s] ()
2025-03-27 17:52:26,526 - INFO - ROLLBACK
